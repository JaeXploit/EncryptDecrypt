<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<style>
			h3 { padding-left:1em; } 
			h3+div { border:solid 0.1em; margin:1em; padding:1em; } 
			#pswMainDiv { border:solid 0.1em; text-align: center; margin:10em; padding:5em; } 
			#pswDiv{ text-align:center; padding: 2em; } 
			#buttonsDiv{ padding-top: 1em; }
			.red{ color: red; }
			#copyright{position: absolute; bottom: 1em;left: 1em;}
			#waitAnimation { margin: 1em; height: 1em; width: calc(100% - 2em); overflow: hidden;}
			#waitAnimationBullet { background-color: red; height: 100%; width: 1em; animation: 2s linear 0s infinite alternate WaitAnimationBullet;}
			@keyframes WaitAnimationBullet { from { margin-left: 0%; } to { margin-left: calc(100% - 1em); } }
		</style>
	</head>
	<body id="body">
		<div id="encryptDecrypt" >
		</div>
		<div id="errorDiv" class="red">
		</div>
		<div id="copyright"> EncryptDecrypt v1.3.0 <a target="_blank" href="https://github.com/wwwouaiebe/EncryptDecrypt/tree/gh-pages">Â© wwwouaiebe 2019 2020</a></div>
		<script>
			/**
			 * 
			 * @source: https://github.com/wwwouaiebe/EncryptDecrypt
			 * 
			 * @licstart  The following is the entire license notice for the
			 * JavaScript code in this page.
			 * 
			 * encryptdecript - version 1.3.0
			 * Build 00417 - 2020-11-18T21:21:30+0100 
			 * Copyright 2017 2020 wwwouaiebe 
			 * Contact: https://www.ouaie.be/
			 * License: GPL-3.0
			 * 
			 * The JavaScript code in this page is free software: you can
			 * redistribute it and/or modify it under the terms of the GNU
			 * General Public License (GNU GPL) as published by the Free Software
			 * Foundation, either version 3 of the License, or (at your option)
			 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
			 * without even the implied warranty of MERCHANTABILITY or FITNESS
			 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
			 * 
			 * As additional permission under GNU GPL version 3 section 7, you
			 * may distribute non-source (e.g., minimized or compacted) forms of
			 * that code without the copy of the GNU GPL normally required by
			 * section 4, provided you include this license notice and a URL
			 * through which recipients can access the Corresponding Source.
			 * 
			 * @licend  The above is the entire license notice
			 * for the JavaScript code in this page.
			 * 
			 */


			!function(){"use strict";const e=-1,t=12,n=0,r=5,o=15e3,c=200;let d=function(){const e=0,t=16,n=256,r=1e6;function o(e){return window.crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveKey"])}function c(e){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:(new window.TextEncoder).encode("Tire la chevillette la bobinette cherra. Le Petit Chaperon rouge tira la chevillette."),iterations:r,hash:"SHA-256"},e,{name:"AES-GCM",length:n},!1,["encrypt","decrypt"])}return Object.seal({encryptData:function(e,n,r,d){!function(e,n,r,d){let i=window.crypto.getRandomValues(new Uint8Array(t));d.then(o).then(c).then(function(t){return window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},t,e)}).then(function(e){n(new Blob([i,new Uint8Array(e)],{type:"application/octet-stream"}))}).catch(r)}(e,n,r,d)},decryptData:function(n,r,d,i){!function(n,r,d,i){i.then(o).then(c).then(function(r){return window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(n.slice(e,t))},r,new Uint8Array(n.slice(t)))}).then(r).catch(d)}(n,r,d,i)}})}(),i="";function l(){h(document.getElementById("encryptDecrypt"));let e=document.createElement("div");e.id="waitAnimation";let t=document.createElement("div");t.id="waitAnimationBullet",e.appendChild(t),document.getElementById("encryptDecrypt").appendChild(e)}function a(e,n){function r(){document.getElementById("okButton").removeEventListener("click",o),document.getElementById("cancelButton").removeEventListener("click",r),n(new Error("Canceled by user"))}function o(){let n=document.getElementById("pswInput").value;if(t>n.length||!n.match(RegExp("[0-9]+"))||!n.match(RegExp("[a-z]+"))||!n.match(RegExp("[A-Z]+"))||!n.match(RegExp("[^0-9a-zA-Z]")))return document.getElementById("pswInput").focus(),void document.getElementById("errorPswDiv").classList.add("red");document.getElementById("okButton").removeEventListener("click",o),document.getElementById("cancelButton").removeEventListener("click",r),l(),e((new window.TextEncoder).encode(n))}h(document.getElementById("encryptDecrypt"));let c=document.createElement("div");c.id="pswMainDiv",document.getElementById("encryptDecrypt").appendChild(c);let d=document.createElement("div");d.id="pswDiv",c.appendChild(d);let a=document.createElement("label");a.htmlFor="pswInput",a.appendChild(document.createTextNode("Password : ")),d.appendChild(a);let u=document.createElement("input");u.type="password",u.id="pswInput",d.appendChild(u);let p=document.createElement("div");p.id="buttonsDiv",c.appendChild(p);let m=document.createElement("input");m.type="button",m.value="Ok",m.id="okButton",m.addEventListener("click",o),p.appendChild(m);let y=document.createElement("input");y.type="button",y.value="Cancel",y.id="cancelButton",y.addEventListener("click",r),p.appendChild(y);let s=document.createElement("div");s.id="errorPswDiv";let E="Decrypt"===i?"Type the password used for encryption":"The password must be at least 12 characters long and contain at least \t\t\tone capital, one lowercase, one number, and one other character.";s.appendChild(document.createTextNode(E)),c.appendChild(s),u.focus()}function u(e){E(),document.getElementById("errorDiv").appendChild(document.createTextNode("An error occurs..."+e.message)),console.log(e)}function p(e){let t=URL.createObjectURL(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","Data"),n.click(),window.URL.revokeObjectURL(t),E()}function m(t){let n=null;try{n=JSON.parse((new TextDecoder).decode(t))}catch(e){return void u(e)}let r=[];for(let e in n.data)r.push(n.data[e]);let o=new Blob([new Uint8Array(r)],{type:n.type}),c=URL.createObjectURL(o),d=document.createElement("a");d.setAttribute("href",c),e===["application/pdf","text/html","image/jpeg","image/png"].indexOf(n.type)&&d.setAttribute("download",n.name),d.click(),window.URL.revokeObjectURL(c),E()}function y(e){h(document.getElementById("errorDiv")),i="Encrypt";let t=new FileReader,r=e.target.files[n];t.onload=function(){d.encryptData((new window.TextEncoder).encode(JSON.stringify({data:new Uint8Array(t.result),name:r.name,type:r.type})),p,u,new Promise(a))},t.readAsArrayBuffer(r)}function s(e){h(document.getElementById("errorDiv")),i="Decrypt";let t=new FileReader;t.onload=function(){d.decryptData(t.result,m,u,new Promise(a))},t.readAsArrayBuffer(e.target.files[n])}function h(e){for("encryptDecrypt"===e.id&&(document.getElementById("encryptButton")&&document.getElementById("encryptButton").removeEventListener("change",y),document.getElementById("decryptButton")&&document.getElementById("decryptButton").removeEventListener("change",s),document.getElementById("goButton")&&document.getElementById("goButton").removeEventListener("click",g));e.firstChild;)e.removeChild(e.firstChild)}function E(){h(document.getElementById("encryptDecrypt"));let e=document.createElement("h3");e.appendChild(document.createTextNode("Encrypt"));let t=document.getElementById("encryptDecrypt");t.appendChild(e);let n=document.createElement("div");document.getElementById("encryptDecrypt").appendChild(n);let r=document.createElement("input");r.type="file",r.id="encryptButton",r.addEventListener("change",y),n.appendChild(r);let o=document.createElement("h3");o.appendChild(document.createTextNode("Decrypt")),t.appendChild(o);let c=document.createElement("div");t.appendChild(c);let d=document.createElement("input");d.type="file",d.id="decryptButton",d.addEventListener("change",s),c.appendChild(d);let i=document.createElement("input");i.type="url",i.id="urlDecrypt",i.size="128",i.placeholder="https://",c.appendChild(i);let l=document.createElement("input");l.type="button",l.value="Go",l.id="goButton",l.addEventListener("click",g),c.appendChild(l)}function w(e){if("https"!==e.substr(n,r).toLowerCase())return void u(new Error("the given url don't use the https protocol: "+e));let t=new XMLHttpRequest;t.timeout=o,t.onload=function(){if(c===t.status){let e=t.response;e&&d.decryptData(e,m,u,new Promise(a))}else u(new Error("Invalid url"))},t.open("GET",e,!0),t.responseType="arraybuffer",t.send(null)}function g(){h(document.getElementById("errorDiv")),i="Decrypt",w(document.getElementById("urlDecrypt").value)}document.addEventListener("keydown",function(e){"urlDecrypt"===e.target.id&&"Enter"===e.key&&(i="Decrypt",w(e.target.value)),"pswInput"===e.target.id&&("Escape"===e.key||"Esc"===e.key?document.getElementById("cancelButton").click():"Enter"===e.key&&document.getElementById("okButton").click())},!0),function(){if(!window.isSecureContext)return Promise.resolve(!1);if(!window.crypto||!window.crypto.subtle||!window.crypto.subtle.importKey)return Promise.resolve(!1);try{return window.crypto.subtle.importKey("raw",(new window.TextEncoder).encode("hoho"),{name:"PBKDF2"},!1,["deriveKey"])}catch(e){return Promise.resolve(!1)}}().then(e=>{if(e){let e=decodeURI(window.location.search).substr(1);"fil="===e.substr(n,4).toLowerCase()?(i="Decrypt",l(),w(decodeURIComponent(escape(atob(e.substr(4)))))):E()}else document.getElementById("errorDiv").appendChild(document.createTextNode("Not possible to use encryptDecrypt. The page have unsecure context or\t\t\t\t\tyour browser don't support cryptography functions")),document.getElementById("body").removeChild(document.getElementById("encryptDecrypt"))}).catch(e=>{console.log(e),document.getElementById("errorDiv").appendChild(document.createTextNode("Not possible to use encryptDecrypt. The page have unsecure context o\t\t\t\t\tr your browser don't support cryptography functions")),document.getElementById("body").removeChild(document.getElementById("encryptDecrypt"))})}();
		</script>
	</body>
</html>